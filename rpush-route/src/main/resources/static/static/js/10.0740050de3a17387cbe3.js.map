{"version":3,"sources":["webpack:///src/components/nf-type-filter-input.vue","webpack:///./src/components/nf-type-filter-input.vue?b2bd","webpack:///./src/components/nf-type-filter-input.vue","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js"],"names":["nf_type_filter_input","name","props","options","type","Array","default","optionsLabelKey","String","optionsValueKey","value","Object","data","currentTypeName","storageKey","mounted","this","init","watch","handler","deep","methods","that","forEach","obj","storageOption","localStorage","getItem","option","JSON","parse","length","$emit","handleInput","handleSearch","handleCommand","command","keyword","selectedValue","console","log","setItem","stringify_default","components_nf_type_filter_input","render","_vm","_h","$createElement","_c","_self","staticClass","on","_v","_s","attrs","slot","_l","item","index","key","selectOptions","size","clearable","input","nativeOn","keyup","$event","indexOf","_k","keyCode","model","callback","$$v","$set","expression","_e","placeholder","change","id","label","icon","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","module","exports","__esModule","core","$JSON","stringify","it","apply","arguments"],"mappings":"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","file":"static/js/10.0740050de3a17387cbe3.js","sourcesContent":["<template>\n  <div class=\"type-filter-input\">\n    <div class=\"type-select\">\n      <el-dropdown @command=\"handleCommand\">\n        <div class=\"current-type\">\n          {{ currentTypeName }}\n        </div>\n        <el-dropdown-menu slot=\"dropdown\">\n          <el-dropdown-item\n            v-for=\"(item, index) in options\"\n            :key=\"index\"\n            :command=\"item\"\n          >\n            {{ item[optionsLabelKey] }}\n          </el-dropdown-item>\n        </el-dropdown-menu>\n      </el-dropdown>\n    </div>\n    <el-input v-if=\"!value.option || !value.option.selectOptions || value.option.selectOptions.length <= 0\" size=\"small\" v-model=\"value.keyword\" clearable @keyup.enter.native=\"handleSearch\" @input=\"handleInput\"/>\n    <el-select\n      v-if=\"value.option && value.option.selectOptions && value.option.selectOptions.length > 0\"\n      v-model=\"value.selectedValue\"\n      placeholder=\"请选择\"\n      size=\"small\"\n      @change=\"handleInput\"\n      clearable\n    >\n      <el-option\n        v-for=\"(item) in this.value.option.selectOptions\"\n        :label=\"item.label\"\n        :value=\"item.id\"\n        :key=\"item.id\"\n      ></el-option>\n    </el-select>\n    <el-button class=\"type-filter-search-button\" size=\"small\" icon=\"el-icon-search\" @click=\"handleSearch\"></el-button>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'NfTypeFilterInput',\n  props: {\n    options: {\n      type: Array,\n      default: () => []\n    },\n    optionsLabelKey: {\n      type: String,\n      default: 'label'\n    },\n    optionsValueKey: {\n      type: String,\n      default: 'id'\n    },\n    value: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    }\n  },\n  data() {\n    return {\n      currentTypeName: '',\n      storageKey: '', // 缓存选项用的key\n    }\n  },\n  mounted() {\n    this.init()\n  },\n  watch: {\n    value: {\n      handler(){\n        this.init()\n      },\n      deep:true // true 深度监听\n    }\n  },\n  methods: {\n    init() {\n      let that = this\n      this.options.forEach((obj) => {\n        that.storageKey += obj[that.optionsValueKey] + obj[that.optionsLabelKey]\n      })\n      let storageOption = localStorage.getItem(this.storageKey);\n      if (!this.value.option && storageOption) {\n        this.value.option = JSON.parse(storageOption) // 如果没有传值，就先看下有没有缓存选项\n      } else {\n        if (this.options.length && !this.value.option) {\n          this.value.option = this.options[0] // 没有传值，缓存也没有，就默认选第一个选项\n        }\n      }\n      this.currentTypeName = this.value.option[this.optionsLabelKey]\n\n      this.$emit('change', this.value)\n    },\n    handleInput() {\n      this.$emit('change', this.value)\n    },\n    handleSearch() {\n      this.$emit('search', this.value)\n    },\n    handleCommand(command) {\n      if (command && command[this.optionsValueKey] === this.value.option[this.optionsValueKey]) {\n        return // 没变化\n      }\n      this.value.option = command\n      this.value.keyword = ''\n      this.value.selectedValue = null\n      console.log(\"计划外\")\n      this.currentTypeName = this.value.option[this.optionsLabelKey]\n      this.$emit('change', this.value)\n\n      localStorage.setItem(this.storageKey, JSON.stringify(this.value.option)); // 缓存选项\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.type-filter-search-button {\n  border-left: 0;\n  background-color: #F5F7FA;\n}\n\n.type-filter-input {\n  display: flex;\n  align-items: center;\n  height: 30px;\n  border: 1px solid #d6d8dd;\n  border-right: none;\n  border-radius: 4px;\n  position: relative;\n\n  .type-select {\n    min-width: 72px;\n    height: 30px;\n    line-height: 30px;\n    padding: 0 10px;\n    border-radius: 4px;\n    text-align: center;\n    background-color: #F5F7FA;\n    color: #0f1831;\n    cursor: pointer;\n  }\n\n  .input-wrap {\n    height: 100%;\n    display: flex;\n    align-items: center;\n    width: 200px;\n    padding: 0 10px;\n\n    input {\n      height: 93%;\n      flex: 1;\n    }\n  }\n\n  ::v-deep .el-input .el-input__inner {\n    height: 30px;\n    line-height: 30px;\n    width: 200px;\n    padding: 0 25px 0 10px;\n    border-radius: 4px;\n  }\n\n  .search-icon {\n    position: absolute;\n    top: 5px;\n    right: 5px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/nf-type-filter-input.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"type-filter-input\"},[_c('div',{staticClass:\"type-select\"},[_c('el-dropdown',{on:{\"command\":_vm.handleCommand}},[_c('div',{staticClass:\"current-type\"},[_vm._v(\"\\n        \"+_vm._s(_vm.currentTypeName)+\"\\n      \")]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.options),function(item,index){return _c('el-dropdown-item',{key:index,attrs:{\"command\":item}},[_vm._v(\"\\n          \"+_vm._s(item[_vm.optionsLabelKey])+\"\\n        \")])}),1)],1)],1),_vm._v(\" \"),(!_vm.value.option || !_vm.value.option.selectOptions || _vm.value.option.selectOptions.length <= 0)?_c('el-input',{attrs:{\"size\":\"small\",\"clearable\":\"\"},on:{\"input\":_vm.handleInput},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleSearch($event)}},model:{value:(_vm.value.keyword),callback:function ($$v) {_vm.$set(_vm.value, \"keyword\", $$v)},expression:\"value.keyword\"}}):_vm._e(),_vm._v(\" \"),(_vm.value.option && _vm.value.option.selectOptions && _vm.value.option.selectOptions.length > 0)?_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"size\":\"small\",\"clearable\":\"\"},on:{\"change\":_vm.handleInput},model:{value:(_vm.value.selectedValue),callback:function ($$v) {_vm.$set(_vm.value, \"selectedValue\", $$v)},expression:\"value.selectedValue\"}},_vm._l((this.value.option.selectOptions),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.label,\"value\":item.id}})}),1):_vm._e(),_vm._v(\" \"),_c('el-button',{staticClass:\"type-filter-search-button\",attrs:{\"size\":\"small\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.handleSearch}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-27b5601e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/nf-type-filter-input.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-27b5601e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./nf-type-filter-input.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./nf-type-filter-input.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./nf-type-filter-input.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-27b5601e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./nf-type-filter-input.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-27b5601e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/nf-type-filter-input.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 10","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 10"],"sourceRoot":""}